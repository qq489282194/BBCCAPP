{"version":3,"sources":["webpack:///src/components/Activity/AbeforeLogin.vue","webpack:///./src/components/Activity/AbeforeLogin.vue?f6d2","webpack:///./src/components/Activity/AbeforeLogin.vue"],"names":["AbeforeLogin","name","components","data","path","openid","unionId","oldUserId","created","mounted","_this","this","urlStr","window","location","href","split","arr","map","item","obj","push","console","log","forEach","openId","userId","localStorage","setItem","$router","replace","methods","getWxLoding","typeid","id","registrationid","activity","then","response","Activity_AbeforeLogin","render","_h","$createElement","_self","_c","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"qHASAA,GACAC,KAAA,cACAC,cAGAC,KALA,WAMA,OACAC,KAAA,KACAC,OAAA,GACAC,QAAA,GACAC,UAAA,KAGAC,QAbA,aAgBAC,QAhBA,WAgBA,IAAAC,EAAAC,KACAC,EAAAC,OAAAC,SAAAC,KAAAC,MAAA,QACA,GAAAJ,EAAA,CACA,IAEAK,KAFAL,EACAI,MAAA,KAEAE,IAAA,SAAAC,GACA,IAAAC,KACAA,EAAAD,EAAAH,MAAA,SAAAG,EAAAH,MAAA,QACAC,EAAAI,KAAAD,KAEAE,QAAAC,IAAAN,GACAA,EAAAO,QAAA,SAAAL,GACAA,EAAAM,OACAf,EAAAL,OAAAc,EAAAM,OACAN,EAAAb,QACAI,EAAAJ,QAAAa,EAAAb,QACAa,EAAAZ,UACAG,EAAAH,UAAAY,EAAAZ,UACAY,EAAAO,SACAhB,EAAAgB,OAAAP,EAAAO,UAIAC,aAAAC,QAAA,SAAAjB,KAAAN,QACAsB,aAAAC,QAAA,UAAAjB,KAAAL,SACAqB,aAAAC,QAAA,SAAAjB,KAAAe,QACAC,aAAAC,QAAA,YAAAjB,KAAAJ,WAEAI,KAAAkB,QAAAC,SACA1B,KAAA,0BAuBA2B,SACAC,YADA,SACA1B,EAAAF,GACA,IAAAD,GACA8B,OAAA,EACAC,GAAA5B,EACA6B,eAAA,IAEGC,EAAA,EAAHjC,GAAAkC,KAAA,SAAAC,GACAhB,QAAAC,IAAAe,QCnFeC,GADEC,OAFjB,WAA0B,IAAaC,EAAb9B,KAAa+B,eAAkD,OAA/D/B,KAAuCgC,MAAAC,IAAAH,GAAwB,QAExEI,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEhD,EACAuC,GATF,EAVA,SAAAU,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/4.083155178853fd2712f6.1564213492780.js","sourcesContent":["<template>\r\n\t<div>\r\n\r\n\t</div>\r\n</template>\r\n\r\n\r\n<script type=\"text/javascript\">\r\nimport * as ACT_API from '@/api/activity'\r\nexport default {\r\n\tname: 'Beforelogin',\r\n\tcomponents: {\r\n\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tpath: null,\r\n\t\t\topenid: '',\r\n\t\t\tunionId: '',\r\n\t\t\toldUserId: '',\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\r\n\t},\r\n\tmounted() {\r\n\t\tlet urlStr = window.location.href.split('?')[1]\r\n\t\tif (urlStr) {\r\n\t\t\tlet str = urlStr\r\n\t\t\tlet firstArr = str.split('&')\r\n\t\t\tlet arr = []\r\n\t\t\tfirstArr.map(item => {\r\n\t\t\t\tlet obj = {}\r\n\t\t\t\tobj[item.split('=')[0]] = item.split('=')[1]\r\n\t\t\t\tarr.push(obj)\r\n\t\t\t})\r\n\t\t\tconsole.log(arr)\r\n\t\t\tarr.forEach(item => {\r\n\t\t\t\tif (item.openId) {\r\n\t\t\t\t\tthis.openid = item.openId\r\n\t\t\t\t} else if (item.unionId) {\r\n\t\t\t\t\tthis.unionId = item.unionId\r\n\t\t\t\t} else if (item.oldUserId) {\r\n\t\t\t\t\tthis.oldUserId = item.oldUserId\r\n\t\t\t\t} else if (item.userId) {\r\n\t\t\t\t\tthis.userId = item.userId\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tlocalStorage.setItem('openid', this.openid)\t\r\n\t\t\tlocalStorage.setItem('unionId', this.unionId)\r\n\t\t\tlocalStorage.setItem('userId', this.userId)\r\n\t\t\tlocalStorage.setItem('oldUserId', this.oldUserId)\r\n\r\n\t\t\tthis.$router.replace({\r\n\t\t\t\tpath: '/actindex/abysharer'\r\n\t\t\t})\r\n\t\t\t// if(!localStorage.getItem('token')){\r\n\t\t\t// \tthis.getWxLoding(this.unionId,this.path,this.goods_id)\r\n\t\t\t// }else{\r\n\t\t\t// \tconsole.log(this.path,'--授权-path-')\r\n\t\t\t// \tif(this.path){\r\n\t\t\t// \t\tthis.$router.push({\r\n\t\t\t// \t\t\tpath: this.path,\r\n\t\t\t// \t\t\tquery: {\r\n\t\t\t// \t\t\t\tgoods_id: this.$route.query.goods_id,\r\n\t\t\t// \t\t\t\tpathb: 'Login',\r\n\t\t\t// \t\t\t}\r\n\t\t\t// \t\t})\r\n\t\t\t// \t\t}else{\r\n\t\t\t// \t\t\tthis.$router.push({\r\n\t\t\t// \t\t\tpath: '/Home',\r\n\t\t\t// \t\t})\r\n\t\t\t// \t}\r\n\t\t\t// }\r\n\t\t}\r\n\r\n\t},\r\n\tmethods: {\r\n\t\tgetWxLoding(unionId, path) {\r\n\t\t\tlet data = {\r\n\t\t\t\ttypeid: 2,\r\n\t\t\t\tid: unionId,\r\n\t\t\t\tregistrationid: ''\r\n\t\t\t}\r\n\t\t\tACT_API.threeLogin(data).then(response => {\r\n\t\t\t\tconsole.log(response)\r\n\t\t\t})\r\n\t\t\t// this.$http({\r\n\t\t\t// \tmethod: 'post',\r\n\t\t\t// \t// url:`${this.GLOBAL.serverSrc}user/webauth/getMpUserInfo`,\r\n\t\t\t// \turl: `${this.GLOBAL.baseURLUser}api/v1/user/threeLogin`,\r\n\t\t\t// \theaders: {\r\n\t\t\t// \t\tContentType: 'application/x-www-form-urlencoded',\r\n\t\t\t// \t},\r\n\t\t\t// \tparams: data\r\n\t\t\t// }).then(res => {\r\n\t\t\t// \tconsole.log(12344444444)\r\n\t\t\t// \tif (res.data.status == 1) {\r\n\t\t\t// \t\tconsole.log(res.data, 56565)\r\n\t\t\t// \t\tlet userid = res.data.data.userid\r\n\t\t\t// \t\tlocalStorage.setItem('wxUserId', userid)\r\n\t\t\t// \t\tthis.getToken(userid, path)\r\n\t\t\t// \t} else {\r\n\t\t\t// \t\tthis.$toast(res.data.message);\r\n\t\t\t// \t}\r\n\t\t\t// })\r\n\t\t},\r\n\t\t// getToken(userid, path) {\r\n\t\t// \tlet that = this\r\n\t\t// \tthis.$http({\r\n\t\t// \t\tmethod: 'post',\r\n\t\t// \t\turl: `${this.GLOBAL.baseURL}passport/mobileClientThirdLogin`,\r\n\t\t// \t\theaders: {\r\n\t\t// \t\t\tContentType: 'application/x-www-form-urlencoded',\r\n\t\t// \t\t},\r\n\t\t// \t\tparams: {\r\n\t\t// \t\t\tuserid\r\n\t\t\t\t\t\r\n\t\t// \t\t}\r\n\t\t// \t}).then(res => {\r\n\t\t// \t\tconsole.log(res)\r\n\t\t// \t\tvar uid = res.data.uid\r\n\t\t// \t\tvar access_token = res.data.access_token\r\n\t\t// \t\tconsole.log(\"ddddd__+\" + access_token)\r\n\t\t// \t\tlocalStorage.setItem(\"token\", access_token)\r\n\t\t// \t\tsessionStorage.setItem('uid', uid)\r\n\t\t// \t\tthat.isBind(path)\r\n\t\t// \t\t// that.$toast('登录成功')\r\n\t\t// \t\t// if(path == 'Login'){\r\n\t\t// \t\t// \tsetTimeout(function(){\r\n\t\t// \t\t// \t\tthat.$router.push({\r\n\t\t// \t\t// \t\t\tpath:'/Home'\r\n\t\t// \t\t// \t\t})\r\n\t\t// \t\t// \t},1000)\r\n\t\t// \t\t// }else if (this.path == 'Productdetails') {\r\n\t\t// \t\t// \tthat.$router.push({\r\n\t\t// \t\t// \t\tpath: this.path,\r\n\t\t// \t\t// \t\tquery: {\r\n\t\t// \t\t// \t\t\tgoods_id: this.goods_id\r\n\t\t// \t\t// \t\t}\r\n\t\t// \t\t// \t});\r\n\t\t// \t\t// } else{\r\n\t\t// \t\t// \tsetTimeout(function(){\r\n\t\t// \t\t// \t\tthat.$router.push({\r\n\t\t// \t\t// \t\t\tname:this.path,\r\n\t\t// \t\t// \t\t});\r\n\t\t// \t\t// \t},1000)\r\n\t\t// \t\t// }\r\n\t\t// \t})\r\n\t\t// },\r\n\t\t// //是否绑定手机号码\r\n\t\t// isBind(path) {\r\n\t\t// \tconsole.log(123123)\r\n\t\t// \tlet unionId = localStorage.getItem('unionId')\r\n\t\t// \tlet params = {\r\n\t\t// \t\tid: unionId,\r\n\t\t// \t\ttypeid: 2,\r\n\t\t// \t}\r\n\t\t// \tthis.$http({\r\n\t\t// \t\tmethod: 'post',\r\n\t\t// \t\turl: `${this.GLOBAL.baseURLUser}api/v1/user/checkThreeLoginBoundPhone`,\r\n\t\t// \t\theaders: {\r\n\t\t// \t\t\tContentType: 'application/x-www-form-urlencoded',\r\n\t\t// \t\t},\r\n\t\t// \t\tparams\r\n\t\t// \t}).then(res => {\r\n\t\t// \t\tconsole.log(res, 123123)\r\n\t\t// \t\tif (res.data.status == 1) {\r\n\t\t// \t\t\tthis.$router.push({\r\n\t\t// \t\t\t\tname: 'LoginUpgrade',\r\n\t\t// \t\t\t\tquery: {\r\n\t\t// \t\t\t\t\toldPath: path,\r\n\t\t// \t\t\t\t\tgoods_id: this.$route.query.goods_id\r\n\t\t// \t\t\t\t}\r\n\t\t// \t\t\t});\r\n\t\t// \t\t}\r\n\t\t// \t\telse {\r\n\t\t// \t\t\tif(this.path){\r\n\t\t// \t\t\t\tthis.$router.push({\r\n\t\t// \t\t\t\t\tpath: this.path,\r\n\t\t// \t\t\t\t\tquery: {\r\n\t\t// \t\t\t\t\t\tgoods_id: this.$route.query.goods_id,\r\n\t\t// \t\t\t\t\t\tpathb: 'Login',\r\n\t\t// \t\t\t\t\t}\r\n\t\t// \t\t\t\t})\r\n\t\t// \t\t\t}else{\r\n\t\t// \t\t\t\tthis.$router.push({\r\n\t\t// \t\t\t\t\tpath: '/Home',\r\n\t\t// \t\t\t\t})\r\n\t\t// \t\t\t}\r\n\t\t// \t\t}\r\n\t\t// \t})\r\n\t\t// },\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Activity/AbeforeLogin.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-7f02eb1f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/Activity/AbeforeLogin.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7f02eb1f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./AbeforeLogin.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./AbeforeLogin.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./AbeforeLogin.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7f02eb1f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./AbeforeLogin.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7f02eb1f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Activity/AbeforeLogin.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}