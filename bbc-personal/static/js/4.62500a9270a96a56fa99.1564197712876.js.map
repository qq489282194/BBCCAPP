{"version":3,"sources":["webpack:///src/components/Activity/AbeforeLogin.vue","webpack:///./src/components/Activity/AbeforeLogin.vue?1d72","webpack:///./src/components/Activity/AbeforeLogin.vue"],"names":["AbeforeLogin","name","components","data","path","openid","unionId","oldUserId","created","mounted","_this","this","urlStr","window","location","href","split","arr","map","item","obj","push","console","log","forEach","openId","userId","localStorage","setItem","$router","replace","methods","getWxLoding","typeid","id","registrationid","activity","then","response","Activity_AbeforeLogin","render","_h","$createElement","_self","_c","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"qHASAA,GACAC,KAAA,cACAC,cAGAC,KALA,WAMA,OACAC,KAAA,KACAC,OAAA,GACAC,QAAA,GACAC,UAAA,KAGAC,QAbA,aAgBAC,QAhBA,WAgBA,IAAAC,EAAAC,KACAC,EAAAC,OAAAC,SAAAC,KAAAC,MAAA,QACA,GAAAJ,EAAA,CACA,IAEAK,KAFAL,EACAI,MAAA,KAEAE,IAAA,SAAAC,GACA,IAAAC,KACAA,EAAAD,EAAAH,MAAA,SAAAG,EAAAH,MAAA,QACAC,EAAAI,KAAAD,KAEAE,QAAAC,IAAAN,GACAA,EAAAO,QAAA,SAAAL,GACAA,EAAAM,OACAf,EAAAL,OAAAc,EAAAM,OACAN,EAAAb,QACAI,EAAAJ,QAAAa,EAAAb,QACAa,EAAAZ,UACAG,EAAAH,UAAAY,EAAAZ,UACAY,EAAAO,SACAhB,EAAAgB,OAAAP,EAAAO,UAIAC,aAAAC,QAAA,SAAAjB,KAAAN,QACAsB,aAAAC,QAAA,UAAAjB,KAAAL,SACAqB,aAAAC,QAAA,SAAAjB,KAAAe,QACAC,aAAAC,QAAA,YAAAjB,KAAAJ,WAEAI,KAAAkB,QAAAC,SACA1B,KAAA,0BAuBA2B,SACAC,YADA,SACA1B,EAAAF,GACA,IAAAD,GACA8B,OAAA,EACAC,GAAA5B,EACA6B,eAAA,IAEGC,EAAA,EAAHjC,GAAAkC,KAAA,SAAAC,GACAhB,QAAAC,IAAAe,QCnFeC,GADEC,OAFjB,WAA0B,IAAaC,EAAb9B,KAAa+B,eAAkD,OAA/D/B,KAAuCgC,MAAAC,IAAAH,GAAwB,QAExEI,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEhD,EACAuC,GATF,EAVA,SAAAU,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/4.62500a9270a96a56fa99.1564197712876.js","sourcesContent":["<template>\n\t<div>\n\n\t</div>\n</template>\n\n\n<script type=\"text/javascript\">\nimport * as ACT_API from '@/api/activity'\nexport default {\n\tname: 'Beforelogin',\n\tcomponents: {\n\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tpath: null,\n\t\t\topenid: '',\n\t\t\tunionId: '',\n\t\t\toldUserId: '',\n\t\t}\n\t},\n\tcreated() {\n\n\t},\n\tmounted() {\n\t\tlet urlStr = window.location.href.split('?')[1]\n\t\tif (urlStr) {\n\t\t\tlet str = urlStr\n\t\t\tlet firstArr = str.split('&')\n\t\t\tlet arr = []\n\t\t\tfirstArr.map(item => {\n\t\t\t\tlet obj = {}\n\t\t\t\tobj[item.split('=')[0]] = item.split('=')[1]\n\t\t\t\tarr.push(obj)\n\t\t\t})\n\t\t\tconsole.log(arr)\n\t\t\tarr.forEach(item => {\n\t\t\t\tif (item.openId) {\n\t\t\t\t\tthis.openid = item.openId\n\t\t\t\t} else if (item.unionId) {\n\t\t\t\t\tthis.unionId = item.unionId\n\t\t\t\t} else if (item.oldUserId) {\n\t\t\t\t\tthis.oldUserId = item.oldUserId\n\t\t\t\t} else if (item.userId) {\n\t\t\t\t\tthis.userId = item.userId\n\t\t\t\t}\n\t\t\t})\n\t\t\t\n\t\t\tlocalStorage.setItem('openid', this.openid)\t\n\t\t\tlocalStorage.setItem('unionId', this.unionId)\n\t\t\tlocalStorage.setItem('userId', this.userId)\n\t\t\tlocalStorage.setItem('oldUserId', this.oldUserId)\n\n\t\t\tthis.$router.replace({\n\t\t\t\tpath: '/actindex/abysharer'\n\t\t\t})\n\t\t\t// if(!localStorage.getItem('token')){\n\t\t\t// \tthis.getWxLoding(this.unionId,this.path,this.goods_id)\n\t\t\t// }else{\n\t\t\t// \tconsole.log(this.path,'--授权-path-')\n\t\t\t// \tif(this.path){\n\t\t\t// \t\tthis.$router.push({\n\t\t\t// \t\t\tpath: this.path,\n\t\t\t// \t\t\tquery: {\n\t\t\t// \t\t\t\tgoods_id: this.$route.query.goods_id,\n\t\t\t// \t\t\t\tpathb: 'Login',\n\t\t\t// \t\t\t}\n\t\t\t// \t\t})\n\t\t\t// \t\t}else{\n\t\t\t// \t\t\tthis.$router.push({\n\t\t\t// \t\t\tpath: '/Home',\n\t\t\t// \t\t})\n\t\t\t// \t}\n\t\t\t// }\n\t\t}\n\n\t},\n\tmethods: {\n\t\tgetWxLoding(unionId, path) {\n\t\t\tlet data = {\n\t\t\t\ttypeid: 2,\n\t\t\t\tid: unionId,\n\t\t\t\tregistrationid: ''\n\t\t\t}\n\t\t\tACT_API.threeLogin(data).then(response => {\n\t\t\t\tconsole.log(response)\n\t\t\t})\n\t\t\t// this.$http({\n\t\t\t// \tmethod: 'post',\n\t\t\t// \t// url:`${this.GLOBAL.serverSrc}user/webauth/getMpUserInfo`,\n\t\t\t// \turl: `${this.GLOBAL.baseURLUser}api/v1/user/threeLogin`,\n\t\t\t// \theaders: {\n\t\t\t// \t\tContentType: 'application/x-www-form-urlencoded',\n\t\t\t// \t},\n\t\t\t// \tparams: data\n\t\t\t// }).then(res => {\n\t\t\t// \tconsole.log(12344444444)\n\t\t\t// \tif (res.data.status == 1) {\n\t\t\t// \t\tconsole.log(res.data, 56565)\n\t\t\t// \t\tlet userid = res.data.data.userid\n\t\t\t// \t\tlocalStorage.setItem('wxUserId', userid)\n\t\t\t// \t\tthis.getToken(userid, path)\n\t\t\t// \t} else {\n\t\t\t// \t\tthis.$toast(res.data.message);\n\t\t\t// \t}\n\t\t\t// })\n\t\t},\n\t\t// getToken(userid, path) {\n\t\t// \tlet that = this\n\t\t// \tthis.$http({\n\t\t// \t\tmethod: 'post',\n\t\t// \t\turl: `${this.GLOBAL.baseURL}passport/mobileClientThirdLogin`,\n\t\t// \t\theaders: {\n\t\t// \t\t\tContentType: 'application/x-www-form-urlencoded',\n\t\t// \t\t},\n\t\t// \t\tparams: {\n\t\t// \t\t\tuserid\n\t\t\t\t\t\n\t\t// \t\t}\n\t\t// \t}).then(res => {\n\t\t// \t\tconsole.log(res)\n\t\t// \t\tvar uid = res.data.uid\n\t\t// \t\tvar access_token = res.data.access_token\n\t\t// \t\tconsole.log(\"ddddd__+\" + access_token)\n\t\t// \t\tlocalStorage.setItem(\"token\", access_token)\n\t\t// \t\tsessionStorage.setItem('uid', uid)\n\t\t// \t\tthat.isBind(path)\n\t\t// \t\t// that.$toast('登录成功')\n\t\t// \t\t// if(path == 'Login'){\n\t\t// \t\t// \tsetTimeout(function(){\n\t\t// \t\t// \t\tthat.$router.push({\n\t\t// \t\t// \t\t\tpath:'/Home'\n\t\t// \t\t// \t\t})\n\t\t// \t\t// \t},1000)\n\t\t// \t\t// }else if (this.path == 'Productdetails') {\n\t\t// \t\t// \tthat.$router.push({\n\t\t// \t\t// \t\tpath: this.path,\n\t\t// \t\t// \t\tquery: {\n\t\t// \t\t// \t\t\tgoods_id: this.goods_id\n\t\t// \t\t// \t\t}\n\t\t// \t\t// \t});\n\t\t// \t\t// } else{\n\t\t// \t\t// \tsetTimeout(function(){\n\t\t// \t\t// \t\tthat.$router.push({\n\t\t// \t\t// \t\t\tname:this.path,\n\t\t// \t\t// \t\t});\n\t\t// \t\t// \t},1000)\n\t\t// \t\t// }\n\t\t// \t})\n\t\t// },\n\t\t// //是否绑定手机号码\n\t\t// isBind(path) {\n\t\t// \tconsole.log(123123)\n\t\t// \tlet unionId = localStorage.getItem('unionId')\n\t\t// \tlet params = {\n\t\t// \t\tid: unionId,\n\t\t// \t\ttypeid: 2,\n\t\t// \t}\n\t\t// \tthis.$http({\n\t\t// \t\tmethod: 'post',\n\t\t// \t\turl: `${this.GLOBAL.baseURLUser}api/v1/user/checkThreeLoginBoundPhone`,\n\t\t// \t\theaders: {\n\t\t// \t\t\tContentType: 'application/x-www-form-urlencoded',\n\t\t// \t\t},\n\t\t// \t\tparams\n\t\t// \t}).then(res => {\n\t\t// \t\tconsole.log(res, 123123)\n\t\t// \t\tif (res.data.status == 1) {\n\t\t// \t\t\tthis.$router.push({\n\t\t// \t\t\t\tname: 'LoginUpgrade',\n\t\t// \t\t\t\tquery: {\n\t\t// \t\t\t\t\toldPath: path,\n\t\t// \t\t\t\t\tgoods_id: this.$route.query.goods_id\n\t\t// \t\t\t\t}\n\t\t// \t\t\t});\n\t\t// \t\t}\n\t\t// \t\telse {\n\t\t// \t\t\tif(this.path){\n\t\t// \t\t\t\tthis.$router.push({\n\t\t// \t\t\t\t\tpath: this.path,\n\t\t// \t\t\t\t\tquery: {\n\t\t// \t\t\t\t\t\tgoods_id: this.$route.query.goods_id,\n\t\t// \t\t\t\t\t\tpathb: 'Login',\n\t\t// \t\t\t\t\t}\n\t\t// \t\t\t\t})\n\t\t// \t\t\t}else{\n\t\t// \t\t\t\tthis.$router.push({\n\t\t// \t\t\t\t\tpath: '/Home',\n\t\t// \t\t\t\t})\n\t\t// \t\t\t}\n\t\t// \t\t}\n\t\t// \t})\n\t\t// },\n\t}\n}\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Activity/AbeforeLogin.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cec5fbac\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Activity/AbeforeLogin.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cec5fbac\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AbeforeLogin.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AbeforeLogin.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AbeforeLogin.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cec5fbac\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AbeforeLogin.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cec5fbac\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Activity/AbeforeLogin.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}